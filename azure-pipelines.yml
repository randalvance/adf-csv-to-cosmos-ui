name: $(Build.DefinitionName)-$(Date:yyyyMMdd)-$(BuildID)

trigger: none

pool:
  vmImage: ubuntu-latest

stages:
  - stage: Build_Static
    displayName: Build Static Website
    jobs:
      - job: Build
        displayName: Build Vue
        steps:
          - script: npm ci
          - script: npm run build
          - task: PublishPipelineArtifact@1
            inputs:
              targetPath: '$(System.DefaultWorkingDirectory)/$(Build.BuildId)'
              artifact: dist
              publishLocation: pipeline